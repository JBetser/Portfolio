{% extends "base.html" %}
{% load admin_urls %}
{% load filters %}
{% load staticfiles %}




{% block extrahead %}
<script src="{% static "core/Chart.min.js" %}" type="text/javascript"></script>
<script src="{% static "core/jquery-1.11.1.min.js" %}" type="text/javascript"></script>
<script type="text/javascript">
$( document ).ready(function() {
    var data = {
        labels: {{ dates|safe }},
        datasets: [
            {
                label: "2020",
                fillColor: "#C2F400",
                strokeColor: "#FF9800",
                pointColor: "#FF9800",
                pointStrokeColor: "#FFF",
                pointHighlightFill: "#CB8800",
                pointHighlightStroke: "CB8800",
                data: {{ development.2020 }}
            },
            {
                label: "2025",
            fillColor: "rgba(220,220,220,0.2)",
            strokeColor: "rgba(220,220,220,1)",
            pointColor: "rgba(220,220,220,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(220,220,220,1)",
                data: {{ development.2025 }}
            },
            {
                label: "2030",
fillColor: "rgba(151,187,205,0.2)",
            strokeColor: "rgba(151,187,205,1)",
            pointColor: "rgba(151,187,205,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(151,187,205,1)",
                data: {{ development.2030 }}
            },
        ],
    };

    var ctx = document.getElementById("myChart").getContext("2d");
    var myLineChart = new Chart(ctx).Line(data);

});
</script>
{% endblock %}


{% block content %}
    We do some forecasting, these are the results:

    {% for item in forecast_results %}
        <div class="item">
        {{ item.text }}
        {% if not item.no_cut %}
            {{ item.value|nicenumber_100 }}
        {% else %}
            {{ item.value|nicenumber }}
        {% endif %}
        </div>
    {% endfor %}
    <canvas id="myChart" width="800" height="400"></canvas>

{% endblock %}