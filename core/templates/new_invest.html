{% extends "base.html" %}
{% load filters %}
{% load admin_urls %}
{% load staticfiles %}

{% block extrahead %}
<script src="{% static "core/canvasjs.min.js" %}" type="text/javascript"></script>
<script src="{% static "core/jquery-1.11.1.min.js" %}" type="text/javascript"></script>
<script type="text/javascript">
$( document ).ready(function() {
    var data = [
        {% for line in content %}
            {
                value: {{ line.1 }},
                label: "{{ line.0 }}",
                color: "{{ line.3 }}",
                highlight: "{{ line.4 }}",
            },
        {% endfor %}
    ];
    var ctx = document.getElementById("myChart").getContext("2d");
    var myPie = new Chart(ctx).Doughnut(data)
    var legend = myPie.generateLegend();
    $("#legend").html(legend);
});
</script>
{% endblock %}

{% block content %}
    <canvas id="myChart" width="400" height="400"></canvas>

    <div id="legend"></div>
{% endblock %}
